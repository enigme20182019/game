!function(t){var e={};function r(s){if(e[s])return e[s].exports;var i=e[s]={i:s,l:!1,exports:{}};return t[s].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(s,i,function(e){return t[e]}.bind(null,i));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){t.exports=r(1)},function(t,e,r){"use strict";r.r(e);var s=[{scene:"home",fileName:"salon.jpg",shapes:[{coords:[310,138,455,300],transition:"tv"},{coords:[126,110,262,255],transition:"radio"},{coords:[490,141,590,241],transition:"card1"},{coords:[605,141,705,241],transition:"card2"}]},{scene:"tv",fileName:"tv.jpg",shapes:[{coords:[574,105,620,225],action:"javascript:_tv_preview()"},{coords:[620,105,665,225],action:"javascript:_tv_next()"}]},{scene:"radio",fileName:"radio.jpg",shapes:[{coords:[170,330,300,460],action:"javascript:_radio_preview()"},{coords:[530,330,660,460],action:"javascript:_radio_next()"}]},{scene:"card1",fileName:"card1.jpg",shapes:[{coords:[300,175,370,295],action:"javascript:_card(3)"},{coords:[395,175,465,295],action:"javascript:_card(1)"},{coords:[485,175,555,295],action:"javascript:_card(0)"},{coords:[295,310,365,430],action:"javascript:_card(2)"},{coords:[395,310,465,430],action:"javascript:_card(4)"},{coords:[500,310,570,430],action:"javascript:_card(8)"},{coords:[285,450,355,570],action:"javascript:_card(6)"},{coords:[405,450,475,570],action:"javascript:_card(7)"},{coords:[510,450,580,570],action:"javascript:_card(5)"}]},{scene:"card2",fileName:"card2.jpg",shapes:[{coords:[275,245,340,400],action:"javascript:_card(9)"},{coords:[360,245,430,400],action:"javascript:_card(10)"},{coords:[445,245,505,400],action:"javascript:_card(11)"}]}];class i{constructor(t){this.sourceUri=t,this.context=new(window.AudioContext||window.webkitAudioContext),this.source=this.context.createBufferSource(),this.playing=!1,this.loaded=!1}stop(){this.playing&&(this.source.stop(0),this.playing=!1)}async play(){!1===this.loaded&&(this.playing=!0,this.source.buffer=await this.load(),this.source.connect(this.context.destination)),this.source.start(0)}async load(){return document.querySelector(".loading").style.display="block",new Promise(t=>{let e=new XMLHttpRequest;e.open("GET",`/sounds/${this.sourceUri}.mp3`,!0),e.responseType="arraybuffer",e.onload=(()=>{document.querySelector(".loading").style.display="none",this.loaded=!0,this.context.decodeAudioData(e.response,e=>{t(e)},this.onError)}),e.send()})}onError(t){console.error(t)}}const a=[{path:"radio/aime_paris_mai",frequency:[88,5]},{path:"radio/au_printemps",frequency:[90,2]}],c=[{path:"cards/aime_paris_mai"},{path:"cards/au_printemps"},{path:"cards/celine"},{path:"cards/cro_magnon"},{path:"cards/mon_mec_a_moi"},{path:"cards/paris_mai"},{path:"cards/quand_reviendras_tu"},{path:"cards/suis_un_homme"},{path:"cards/suis_venu_te_dire"},{path:"cards/mon_ptit_loup"},{path:"cards/pardonne_moi"},{path:"cards/voulez_vous_danser"}];const n=s[0],o=document.querySelector("#display"),d=(new class{constructor(){this.c=document.getElementById("video-display"),this.current=0,this.images=["11.jpg","7.jpg","5.jpg","9.jpg","10.jpg","1.jpg","3.jpg","8.jpg","4.jpg","6.jpg","2.jpg","12.jpg"],window._tv_next=(()=>{this.next()}),window._tv_preview=(()=>{this.preview()})}next(){this.current=Math.abs((this.current+1)%this.images.length),this.up()}preview(){this.current=this.current-1,-1===this.current&&(this.current=this.images.length-1),this.up()}up(){this.c.innerHTML=`<div class="tv-pic" style="background-image: url('./pictures/tv/${this.images[this.current]}');"></div>`}},new class{constructor(){this.display=document.getElementById("radio-display"),this.on=!1,this.current=0,this.frequency=[87,5],this.musics=a.map(t=>new i(t.path)),this.cardsMusics=c.map(t=>new i(t.path)),this.currentMusic=this.musics[this.current],window._radio_next=(()=>{this.current=(this.current+1)%a.length,this.switchFrequency()}),window._radio_preview=(()=>{this.current=(this.current-1)%a.length,-1===this.current&&(this.current=a.length-1),this.switchFrequency()}),window._card=(t=>{this.currentMusic&&this.currentMusic.stop(),this.currentMusic=this.cardsMusics[t],this.currentMusic.play()})}switchFrequency(){this.display.style.display="block",this.currentMusic.stop(),this.currentMusic=this.musics[this.current],this.frequency=a[this.current].frequency,this.play()}play(){this.currentMusic.play(),this.display.innerHTML=`<div>${this.frequency[0]}.${this.frequency[1]}</div>`}},t=>{console.log(t);let e=t.shapes.map(t=>{let e="#";return t.action?e=`javascript:${t.action}`:t.transition&&(e=`javascript:_scene('${t.transition}')`),`<area shape="rect" coords="${t.coords.join(",")}" href="${e}">`});o.innerHTML=`<img class="display-pic" src="./pictures/${t.fileName}" usemap="#ima1"><map name="ima1">${e.join("")}</map>`});window._scene=(t=>{let e=s.find(e=>e.scene===t);d(e)}),d(n)}]);